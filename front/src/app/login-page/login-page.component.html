<section class="login-container">
  <form class="card login" [formGroup]="form" (ngSubmit)="submit()">
    <h2>Вход в личный кабинет</h2>

    <div class="alert alert-danger" *ngIf="authService.error$ | async as error">{{error}}</div>

    <div
      class="form-control"
      [ngClass]="{invalid: form.get('phone')?.touched && form.get('phone')?.invalid}"
    >
      <label for="phone">Телефон: </label>
      <input id="phone" placeholder="+7 (___)-___-__-__" type="tel" formControlName="phone">
      <div
        *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid; else temp"
        class="validation"
      >
        <small
          *ngIf="form.get('phone')?.errors?.required"
        >Введите телефон</small>
        <small
          *ngIf="form.get('phone')?.errors?.pattern"
        >Телефон введён неправильно</small>
      </div>


    </div>


    <div
      class="form-control"
      [ngClass]="{invalid: form.get('password')?.touched && form.get('password')?.invalid}"
    >
      <label for="password">Пароль: </label>
      <input id="password" placeholder="более 6 символов" type="password" formControlName="password">
      <div
        *ngIf="form.get('password')?.touched && form.get('password')?.invalid ; else temp"
        class="validation"
      >
        <small
          *ngIf="form.get('password')?.errors?.required"
        >Введите пароль</small>

        <small
          *ngIf="form.get('password')?.errors?.minlength"
        >Введите пароль больше шести символов</small>


      </div>
    </div>
    <div class="center">
      <button
        type="submit"
        class="btn btn-medium"
        [disabled]="form.invalid"
      >Войти</button>
    </div>
  </form>

  <ng-template #temp>
    <div class="validation"></div>
  </ng-template>

</section>
<!--[disabled]="form.invalid"-->
